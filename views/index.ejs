<!DOCTYPE html>
<html>

<head>
    <title>Crypto Price Checker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="container">
        <h1>Crypto Price Checker</h1>

        <form action="/price" method="get">
            <input name="symbol" placeholder="BTC, ETH, SOL..." required />
            <button>Check</button>
        </form>

        <% if (data) { %>
            <div class="card">
                <img src="<%= data.logo %>" alt="logo">

                <h2>
                    <%= data.name %> (<%= data.symbol %>)
                </h2>

                <p class="price">$<%= data.price %>
                </p>

                <p class="change <%= data.change >= 0 ? 'up' : 'down' %>">
                    24h: <%= data.change.toFixed(2) %>%
                </p>

                <iframe
                    src="https://s.tradingview.com/widgetembed/?symbol=<%= data.tradingView %>&interval=15&theme=dark"
                    frameborder="0">
                </iframe>
            </div>
            <% } %>

                <% if (error) { %>
                    <p class="error">
                        <%= error %>
                    </p>
                    <% } %>
    </div>
</body>

</html>